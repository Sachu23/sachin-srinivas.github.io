Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-motion-prefixed");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}exports.MouseParallaxChild=function(e){var t=e.children;return n.default.createElement(n.default.Fragment,null," ",t," ")},exports.MouseParallaxContainer=function(r){var i=r.children,s=r.resetOnLeave,c=r.useWindowMouseEvents,l=r.inverted,u=r.containerStyles,p=r.className,f=r.globalFactorX,d=void 0===f?1:f,m=r.globalFactorY,v=void 0===m?1:m,y=r.enableCSSTransition,b=r.enabled,g=void 0===b||b;Array.isArray(i)||(i=[i]);var x=e.useState([0,0]),h=x[0],w=x[1],O=e.useState({current:null}),S=O[0],E=O[1],C=e.useCallback((function(e){null!==e&&E({current:e})}),[]),j=e.useCallback((function(e){var t=S.current?S.current.getBoundingClientRect():{left:0,top:0};return{x:e.clientX-t.left,y:e.clientY-t.top}}),[S]),k=e.useCallback((function(e){if(S.current){var t=S.current.clientHeight,r=S.current.clientWidth,n=j(e),o=[r/2-n.x,t/2-n.y];w(o)}}),[S,j,l]);return e.useEffect((function(){return g&&c&&S.current&&(window.addEventListener("mousemove",k,!1),s&&window.addEventListener("mouseout",(function(){return w([0,0])}),!1)),function(){window.removeEventListener("mousemove",k,!1),s&&window.removeEventListener("mouseout",(function(){return w([0,0])}),!1)}}),[S,k,s,c,g]),n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:p&&p,id:"mouse-parallax-container",style:o({overflow:"hidden",position:"relative"},u),ref:C,onMouseMove:g&&!c?k:function(){},onMouseLeave:g&&!c&&s?function(){return w([0,0])}:function(){}},i.map((function(e,r){return e&&n.default.createElement(t.Motion,{key:e.key||r,style:g?{x:t.spring(h[0]*(e.props.factorX||0)*d*(e.props.inverted?-1:1)*(l?-1:1),e.props.springConfig),y:t.spring(h[1]*(e.props.factorY||0)*v*(e.props.inverted?-1:1)*(l?-1:1),e.props.springConfig)}:{x:0,y:0}},(function(t){var r,i,s,c,l,u,p,f=["","",{}],d=f[0],m=f[1],v=f[2];e.props.updateStyles&&((p=e.props.updateStyles)&&("[object Function]"===Object.prototype.toString.call(p)||"function"==typeof p||p instanceof Function)?(d=void 0===(r=(l=e.props.updateStyles({container:S.current?{x:S.current.clientWidth,y:S.current.clientHeight}:{x:0,y:0},px:t,percentage:S.current?{x:t.x/S.current.clientWidth*2*100,y:t.y/S.current.clientHeight*2*100}:{x:0,y:0}})).transition)?"":r,m=void 0===(i=l.transform)?"":i,v=a(l,["transition","transform"])):(d=void 0===(s=(u=e.props.updateStyles).transition)?"":s,m=void 0===(c=u.transform)?"":c,v=a(u,["transition","transform"])));var b="".concat(y&&"transform 1e-7s linear").concat(d&&", ").concat(d),g="translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) ").concat(m),x=o(o({},e.props.factorX||e.props.factorY?{willChange:"transform",transition:b,WebkitTransition:b,msTransition:b,transform:g,WebkitTransform:g,msTransform:g}:e.props.updateStyles?{transition:d,WebkitTransition:d,msTransition:d,transform:m,WebkitTransform:m,msTransform:m}:{}),v);return e.props.factorX||e.props.factorY||(e.props.className||e.props.updateStyles)&&"MouseParallaxChild"===e.type.name?n.default.createElement("div",{className:e.props.className&&e.props.className,style:x},e):n.default.createElement(n.default.Fragment,null,e)}))}))))};
//# sourceMappingURL=index.js.map
